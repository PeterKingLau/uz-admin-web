@import './variables.module.scss';

.el-dialog {
    transform: none;
    left: 0;
    position: relative;
    margin: 0 auto;
    border-radius: 8px;
    box-shadow: var(--el-box-shadow);
    background-color: var(--el-bg-color-overlay); // 使用变量适配暗黑模式

    &:not(.is-fullscreen) {
        margin-top: 6vh !important;
    }
}

.el-dialog.scrollbar .el-dialog__body {
    overflow: auto;
    overflow-x: hidden;
    max-height: 70vh;
    padding: 10px 20px 20px;
}

.el-table {
    --el-table-bg-color: transparent;
    --el-table-tr-bg-color: transparent;
    --el-table-header-bg-color: var(--el-fill-color-light);

    .el-table__header-wrapper,
    .el-table__fixed-header-wrapper {
        th {
            word-break: break-word;
            background-color: var(--el-table-header-bg-color) !important;
            color: var(--el-text-color-primary);
            height: 44px !important;
            font-size: 13px;
            font-weight: 600;
        }
    }

    .el-table__body-wrapper {
        .el-button [class*='el-icon-'] + span {
            margin-left: 4px;
        }
    }

    .el-dropdown-link {
        cursor: pointer;
        color: var(--el-color-primary);
        margin-left: 10px;
        font-size: 12px;
    }
}

.el-form .el-form-item__label {
    font-weight: 600;
    color: var(--el-text-color-regular);
}

.search-form .el-form-item {
    margin-bottom: 0;
    margin-right: 16px;
}

.modern-drawer {
    .el-drawer__header {
        position: relative;
        padding: 16px 24px;
        margin-bottom: 0;
        border-bottom: 1px solid var(--el-border-color-light);

        .el-drawer__title {
            font-weight: 600;
            font-size: 16px;
            color: var(--el-text-color-primary);
            padding-left: 12px;

            &::before {
                content: '';
                position: absolute;
                left: 24px;
                top: 50%;
                transform: translateY(-50%);
                width: 4px;
                height: 16px;
                background-color: var(--el-color-primary);
                border-radius: 2px;
            }
        }
    }

    .el-drawer__body {
        padding: 0;
        background-color: var(--el-bg-color); // 确保与主题一致
        overflow: hidden;
        display: flex;
        flex-direction: column;
    }

    .drawer-content {
        flex: 1;
        padding: 24px;
        overflow-y: auto;
    }

    .el-drawer__footer {
        border-top: 1px solid var(--el-border-color-light);
        padding: 16px 24px;
        background-color: var(--el-bg-color);
        display: flex;
        justify-content: flex-end;
        gap: 12px;
    }

    .form-section-title {
        margin: 24px 0 16px;
        padding-bottom: 8px;
        border-bottom: 1px dashed var(--el-border-color);
        display: flex;
        align-items: center;

        span {
            font-weight: 600;
            font-size: 14px;
            color: var(--el-text-color-primary);
            display: flex;
            align-items: center;

            &::before {
                content: '';
                display: inline-block;
                width: 6px;
                height: 6px;
                border-radius: 50%;
                background-color: var(--el-color-primary);
                margin-right: 8px;
                opacity: 0.8;
            }
        }
        &:first-child {
            margin-top: 0;
        }
    }
}

.el-breadcrumb__inner,
.el-breadcrumb__inner a {
    font-weight: 400 !important;
}

.upload-container .el-upload {
    width: 100%;
    .el-upload-dragger {
        width: 100%;
        height: 200px;
    }
}

.el-menu--collapse > div > .el-submenu > .el-submenu__title .el-submenu__icon-arrow {
    display: none;
}

.el-button [class*='el-icon'] + span {
    margin-left: 5px;
}

.sortable-ghost {
    opacity: 0.8;
    color: #fff !important;
    background: var(--el-color-primary) !important;
}

html.dark {
    .el-input__wrapper,
    .el-textarea__inner {
        background-color: var(--el-fill-color-blank) !important;
        box-shadow: 0 0 0 1px var(--el-border-color) inset !important;

        &.is-focus {
            box-shadow: 0 0 0 1px var(--el-color-primary) inset !important;
        }
    }

    .el-input__inner {
        color: var(--el-text-color-primary) !important;

        &:-webkit-autofill {
            -webkit-box-shadow: 0 0 0 1000px var(--el-fill-color-blank) inset !important;
            -webkit-text-fill-color: var(--el-text-color-primary) !important;
            caret-color: var(--el-text-color-primary);
            transition: background-color 5000s ease-in-out 0s;
        }
    }

    .el-table {
        background-color: transparent !important;

        th.el-table__cell {
            background-color: var(--el-fill-color-dark) !important;
            border-bottom: 1px solid var(--el-border-color-lighter) !important;
        }

        td.el-table__cell {
            border-bottom: 1px solid var(--el-border-color-lighter);
        }
    }

    .el-dropdown-menu,
    .el-select__popper,
    .el-picker__popper,
    .el-dialog,
    .el-drawer__body {
        background-color: var(--el-bg-color-overlay) !important;
        border-color: var(--el-border-color-light);
    }

    .el-pagination {
        button:disabled,
        .btn-prev,
        .btn-next {
            background-color: transparent !important;
        }
        .el-pager li {
            background-color: transparent !important;
        }
    }
}
